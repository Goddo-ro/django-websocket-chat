<div class='base-form col-12 col-sm-9 col-md-7 col-lg-6 col-xl-4'>
    {% load static %}
    <div class='base-form__errors'>
        {% if form.errors %}
            {% for error in form.non_field_errors %}
                <span>{{ error|escape }}</span>
            {% endfor %}
        {% endif %}
    </div>

    <form method='POST' class='base-form__form' {% if form.is_multipart %} enctype="multipart/form-data" {% endif %}>
    {% csrf_token %}

        {% for field in form %}
            <div class='base-form__form-row'>
                <label for='{{ field.id_for_label }}'>
                    {{ field.label }}
                    {% if field.field.required %}
                        <span class='base-form__star'>*</span>
                    {% endif %}
                </label>
                <div class="base-form__field-errors">
                    {% for error in field.errors %}
                        <span>{{ error|escape }}</span>
                    {% endfor %}
                </div>
                {{ field }}
                {% if field.help_text %}
                    <small id='{{ field.id_for_label}}-help'>
                        {{ field.help_text|safe}}
                    </small>
                {% endif %}
            </div>
        {% endfor %}

        <button type='submit' class='submit-btn'>{{ submit_text }}</button>
        {% if show_forgot_password %}
            <a href='{% url "users:password_reset" %}' class='base-form__link'>Забыли пароль?</a>
        {% endif %}
        {% if show_register_link %}
            <a href='{% url "users:signup" %}' class='base-form__link'>Зарегистрироваться</a>
        {% endif %}
    </form>
    <script src="{% static 'js/group_clear_checkbox_with_label.js' %}"></script>
    <script src="{% static 'js/change_image_link_text.js' %}"></script>
    <script src="{% static 'js/delete_autogenerated_label.js' %}"></script>
    <script src="{% static 'js/disable_file_input_on_clear.js' %}"></script>
</div>